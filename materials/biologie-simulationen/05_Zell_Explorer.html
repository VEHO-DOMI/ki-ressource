<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zell-Explorer</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            padding: 20px;
            color: #fff;
        }
        .container { max-width: 100%; margin: 0 auto; padding: 0 10px; }
        h1 { text-align: center; margin-bottom: 10px; font-size: 1.8em; color: #4fc3f7; }
        .subtitle { text-align: center; color: #90a4ae; margin-bottom: 20px; }
        .simulation-area {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .cell-toggle {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }
        .toggle-btn {
            padding: 15px 40px;
            font-size: 1.1em;
            border: 3px solid;
            background: transparent;
            border-radius: 30px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        .toggle-btn.animal { border-color: #e74c3c; color: #e74c3c; }
        .toggle-btn.plant { border-color: #27ae60; color: #27ae60; }
        .toggle-btn.active.animal { background: #e74c3c; color: white; }
        .toggle-btn.active.plant { background: #27ae60; color: white; }
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 20px;
        }
        @media (max-width: 900px) {
            .main-grid { grid-template-columns: 1fr; }
        }
        canvas {
            display: block;
            margin: 0 auto;
            border-radius: 50%;
            border: 3px solid #4fc3f7;
            max-width: 100%;
            height: auto;
            cursor: pointer;
        }
        #animalCanvas { background: radial-gradient(ellipse at center, #3a1a1a 0%, #1a0a0a 100%); }
        #plantCanvas { background: radial-gradient(ellipse at center, #1a3a1a 0%, #0a1a0a 100%); display: none; }
        .info-panel {
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            padding: 20px;
        }
        .organelle-title {
            font-size: 1.3em;
            color: #4fc3f7;
            margin-bottom: 10px;
        }
        .organelle-desc {
            line-height: 1.6;
            color: #b0bec5;
            margin-bottom: 15px;
        }
        .function-box {
            background: rgba(46, 204, 113, 0.1);
            border-left: 3px solid #2ecc71;
            padding: 12px;
            border-radius: 0 8px 8px 0;
            margin-bottom: 15px;
        }
        .function-box h4 { color: #2ecc71; margin-bottom: 5px; }
        .comparison {
            background: rgba(155, 89, 182, 0.1);
            border: 1px solid #9b59b6;
            border-radius: 10px;
            padding: 12px;
            margin-top: 15px;
        }
        .comparison h4 { color: #9b59b6; margin-bottom: 8px; }
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            font-size: 0.85em;
        }
        .comparison-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .check { color: #2ecc71; }
        .cross { color: #e74c3c; }
        .legend {
            margin-top: 15px;
            padding: 10px;
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
        }
        .legend h4 { color: #4fc3f7; margin-bottom: 10px; font-size: 0.95em; }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 5px 0;
            cursor: pointer;
            transition: all 0.2s;
        }
        .legend-item:hover { background: rgba(255,255,255,0.05); margin: 0 -10px; padding: 5px 10px; }
        .legend-item.active { background: rgba(79, 195, 247, 0.2); margin: 0 -10px; padding: 5px 10px; border-radius: 5px; }
        .legend-dot { width: 14px; height: 14px; border-radius: 50%; }
        .legend-name { font-size: 0.85em; }
        .info-box {
            background: rgba(79, 195, 247, 0.1);
            border-left: 4px solid #4fc3f7;
            padding: 15px 20px;
            border-radius: 0 10px 10px 0;
            margin-top: 20px;
        }
        .info-box h3 { color: #4fc3f7; margin-bottom: 10px; }
        .info-box p { line-height: 1.6; color: #b0bec5; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üî¨ Zell-Explorer</h1>
        <p class="subtitle">5. Klasse Biologie ‚Äì Vergleiche Tier- und Pflanzenzelle</p>

        <div class="simulation-area">
            <div class="cell-toggle">
                <button class="toggle-btn animal active" onclick="showCell('animal')">üêæ Tierzelle</button>
                <button class="toggle-btn plant" onclick="showCell('plant')">üåø Pflanzenzelle</button>
            </div>

            <div class="main-grid">
                <div class="canvas-container">
                    <canvas id="animalCanvas" width="500" height="500"></canvas>
                    <canvas id="plantCanvas" width="500" height="500"></canvas>
                </div>

                <div class="info-panel">
                    <div class="organelle-title" id="organelleTitle">Klicke auf eine Organelle!</div>
                    <div class="organelle-desc" id="organelleDesc">
                        Erkunde die Zelle, indem du auf die verschiedenen Bestandteile klickst.
                    </div>
                    <div class="function-box" id="functionBox" style="display: none;">
                        <h4>‚ö° Funktion</h4>
                        <p id="functionText"></p>
                    </div>

                    <div class="legend" id="animalLegend">
                        <h4>Organellen</h4>
                        <div class="legend-item" onclick="selectOrganelle('nucleus')">
                            <div class="legend-dot" style="background: #9b59b6;"></div>
                            <span class="legend-name">Zellkern (Nucleus)</span>
                        </div>
                        <div class="legend-item" onclick="selectOrganelle('mitochondria')">
                            <div class="legend-dot" style="background: #e74c3c;"></div>
                            <span class="legend-name">Mitochondrien</span>
                        </div>
                        <div class="legend-item" onclick="selectOrganelle('er')">
                            <div class="legend-dot" style="background: #3498db;"></div>
                            <span class="legend-name">Endoplasmatisches Retikulum</span>
                        </div>
                        <div class="legend-item" onclick="selectOrganelle('golgi')">
                            <div class="legend-dot" style="background: #f1c40f;"></div>
                            <span class="legend-name">Golgi-Apparat</span>
                        </div>
                        <div class="legend-item" onclick="selectOrganelle('ribosome')">
                            <div class="legend-dot" style="background: #e67e22;"></div>
                            <span class="legend-name">Ribosomen</span>
                        </div>
                        <div class="legend-item" onclick="selectOrganelle('membrane')">
                            <div class="legend-dot" style="background: #1abc9c;"></div>
                            <span class="legend-name">Zellmembran</span>
                        </div>
                    </div>

                    <div class="comparison">
                        <h4>üìä Unterschiede</h4>
                        <div class="comparison-grid">
                            <div><strong>Tierzelle:</strong></div>
                            <div><strong>Pflanzenzelle:</strong></div>
                            <div class="comparison-item"><span class="cross">‚úó</span> Zellwand</div>
                            <div class="comparison-item"><span class="check">‚úì</span> Zellwand</div>
                            <div class="comparison-item"><span class="cross">‚úó</span> Chloroplasten</div>
                            <div class="comparison-item"><span class="check">‚úì</span> Chloroplasten</div>
                            <div class="comparison-item"><span class="cross">‚úó</span> Gro√üe Vakuole</div>
                            <div class="comparison-item"><span class="check">‚úì</span> Gro√üe Vakuole</div>
                            <div class="comparison-item"><span class="check">‚úì</span> Zentriolen</div>
                            <div class="comparison-item"><span class="cross">‚úó</span> Zentriolen</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="info-box">
            <h3>üìö Tier- vs. Pflanzenzelle</h3>
            <p>Beide Zelltypen haben einen <strong>Zellkern</strong>, <strong>Mitochondrien</strong> und andere gemeinsame Organellen.
            Pflanzenzellen haben zus√§tzlich eine <strong>Zellwand</strong> (Stabilit√§t), <strong>Chloroplasten</strong> (Fotosynthese)
            und eine gro√üe <strong>Vakuole</strong> (Speicher). Tierzellen haben <strong>Zentriolen</strong> f√ºr die Zellteilung.</p>
        </div>
    </div>

    <script>
        const animalCanvas = document.getElementById('animalCanvas');
        const plantCanvas = document.getElementById('plantCanvas');
        const actx = animalCanvas.getContext('2d');
        const pctx = plantCanvas.getContext('2d');

        let currentCellType = 'animal';
        let selectedOrganelle = null;

        const organelleData = {
            nucleus: {
                title: 'üü£ Zellkern (Nucleus)',
                desc: 'Das Kontrollzentrum der Zelle. Enth√§lt die DNA mit allen genetischen Informationen.',
                function: 'Steuert alle Zellaktivit√§ten, speichert Erbinformation, koordiniert Zellteilung.'
            },
            mitochondria: {
                title: 'üî¥ Mitochondrien',
                desc: 'Die "Kraftwerke" der Zelle. Haben eine eigene DNA und doppelte Membran.',
                function: 'Zellatmung: Wandeln Glukose + O‚ÇÇ in ATP (Energie) um.'
            },
            er: {
                title: 'üîµ Endoplasmatisches Retikulum',
                desc: 'Membransystem, das den Zellkern umgibt. Raues ER hat Ribosomen, glattes ER nicht.',
                function: 'Raues ER: Proteinsynthese. Glattes ER: Lipidsynthese, Entgiftung.'
            },
            golgi: {
                title: 'üü° Golgi-Apparat',
                desc: 'Stapel flacher Membrans√§ckchen. Sortier- und Versandzentrum der Zelle.',
                function: 'Modifiziert, verpackt und transportiert Proteine und Lipide.'
            },
            ribosome: {
                title: 'üü† Ribosomen',
                desc: 'Kleine Partikel aus RNA und Proteinen. Frei im Zytoplasma oder am ER.',
                function: 'Proteinbiosynthese: √úbersetzen mRNA in Aminos√§ureketten.'
            },
            membrane: {
                title: 'üü¢ Zellmembran',
                desc: 'Doppelte Phospholipidschicht mit Proteinen. Umh√ºllt die gesamte Zelle.',
                function: 'Kontrolliert Stoffaustausch, Schutz, Kommunikation mit anderen Zellen.'
            },
            chloroplast: {
                title: 'üíö Chloroplasten',
                desc: 'Gr√ºne Organellen mit Chlorophyll. Nur in Pflanzenzellen!',
                function: 'Fotosynthese: Wandeln Licht + CO‚ÇÇ + H‚ÇÇO in Glukose + O‚ÇÇ um.'
            },
            vacuole: {
                title: 'üíß Vakuole',
                desc: 'Gro√üe, fl√ºssigkeitsgef√ºllte Blase. In Pflanzenzellen riesig (bis 90% des Volumens).',
                function: 'Speichert Wasser, N√§hrstoffe, Abfallstoffe. Erzeugt Turgor (Zellinnendruck).'
            },
            cellwall: {
                title: 'üß± Zellwand',
                desc: 'Stabile Schicht aus Cellulose au√üerhalb der Membran. Nur bei Pflanzen!',
                function: 'Gibt der Zelle Form und Stabilit√§t, sch√ºtzt vor Platzen.'
            },
            centriole: {
                title: '‚öôÔ∏è Zentriolen',
                desc: 'Zylindrische Strukturen nahe dem Zellkern. Nur in Tierzellen!',
                function: 'Organisieren Mikrotubuli bei der Zellteilung (Spindelapparat).'
            }
        };

        function drawAnimalCell() {
            actx.clearRect(0, 0, 500, 500);
            const cx = 250, cy = 250;

            // Cell membrane
            actx.beginPath();
            actx.arc(cx, cy, 220, 0, Math.PI * 2);
            const memGrad = actx.createRadialGradient(cx, cy, 200, cx, cy, 230);
            memGrad.addColorStop(0, 'rgba(26, 188, 156, 0.3)');
            memGrad.addColorStop(1, 'rgba(26, 188, 156, 0.8)');
            actx.fillStyle = memGrad;
            actx.fill();

            // Cytoplasm
            actx.beginPath();
            actx.arc(cx, cy, 210, 0, Math.PI * 2);
            actx.fillStyle = 'rgba(255, 200, 200, 0.2)';
            actx.fill();

            // ER (wavy lines)
            actx.strokeStyle = selectedOrganelle === 'er' ? '#5dade2' : '#3498db';
            actx.lineWidth = selectedOrganelle === 'er' ? 4 : 3;
            for (let i = 0; i < 3; i++) {
                actx.beginPath();
                for (let x = 100; x < 200; x += 5) {
                    const y = 150 + i * 25 + Math.sin(x * 0.1) * 8;
                    if (x === 100) actx.moveTo(x, y);
                    else actx.lineTo(x, y);
                }
                actx.stroke();
            }

            // Golgi apparatus
            actx.fillStyle = selectedOrganelle === 'golgi' ? '#f4d03f' : '#f1c40f';
            for (let i = 0; i < 4; i++) {
                actx.beginPath();
                actx.ellipse(350, 150 + i * 15, 40, 8, 0.3, 0, Math.PI * 2);
                actx.fill();
            }

            // Mitochondria
            const mitoColor = selectedOrganelle === 'mitochondria' ? '#ec7063' : '#e74c3c';
            [[320, 300], [150, 320], [180, 180], [350, 350]].forEach(([x, y]) => {
                actx.fillStyle = mitoColor;
                actx.beginPath();
                actx.ellipse(x, y, 25, 12, Math.random(), 0, Math.PI * 2);
                actx.fill();
                // Inner membrane folds
                actx.strokeStyle = 'rgba(255,255,255,0.4)';
                actx.lineWidth = 1;
                for (let i = -15; i < 15; i += 8) {
                    actx.beginPath();
                    actx.moveTo(x + i, y - 8);
                    actx.lineTo(x + i, y + 8);
                    actx.stroke();
                }
            });

            // Ribosomes
            actx.fillStyle = selectedOrganelle === 'ribosome' ? '#f39c12' : '#e67e22';
            for (let i = 0; i < 30; i++) {
                const angle = Math.random() * Math.PI * 2;
                const r = 80 + Math.random() * 100;
                actx.beginPath();
                actx.arc(cx + Math.cos(angle) * r, cy + Math.sin(angle) * r, 3, 0, Math.PI * 2);
                actx.fill();
            }

            // Nucleus
            actx.beginPath();
            actx.arc(cx, cy, 60, 0, Math.PI * 2);
            const nucGrad = actx.createRadialGradient(cx - 20, cy - 20, 5, cx, cy, 60);
            nucGrad.addColorStop(0, selectedOrganelle === 'nucleus' ? '#a569bd' : '#9b59b6');
            nucGrad.addColorStop(1, selectedOrganelle === 'nucleus' ? '#7d3c98' : '#6c3483');
            actx.fillStyle = nucGrad;
            actx.fill();

            // Nucleolus
            actx.beginPath();
            actx.arc(cx + 15, cy - 10, 15, 0, Math.PI * 2);
            actx.fillStyle = '#5b2c6f';
            actx.fill();

            // Centrioles
            actx.fillStyle = selectedOrganelle === 'centriole' ? '#aab7b8' : '#7f8c8d';
            actx.save();
            actx.translate(120, 280);
            actx.rotate(0.3);
            actx.fillRect(-15, -5, 30, 10);
            actx.rotate(Math.PI / 2);
            actx.fillRect(-15, -5, 30, 10);
            actx.restore();
        }

        function drawPlantCell() {
            pctx.clearRect(0, 0, 500, 500);
            const cx = 250, cy = 250;

            // Cell wall
            pctx.strokeStyle = selectedOrganelle === 'cellwall' ? '#58d68d' : '#27ae60';
            pctx.lineWidth = selectedOrganelle === 'cellwall' ? 15 : 12;
            pctx.strokeRect(30, 30, 440, 440);

            // Cell membrane
            pctx.strokeStyle = selectedOrganelle === 'membrane' ? '#48c9b0' : '#1abc9c';
            pctx.lineWidth = 4;
            pctx.strokeRect(45, 45, 410, 410);

            // Large central vacuole
            pctx.beginPath();
            pctx.ellipse(cx, cy + 20, 150, 120, 0, 0, Math.PI * 2);
            const vacGrad = pctx.createRadialGradient(cx, cy, 20, cx, cy + 20, 140);
            vacGrad.addColorStop(0, selectedOrganelle === 'vacuole' ? 'rgba(133, 193, 233, 0.6)' : 'rgba(133, 193, 233, 0.4)');
            vacGrad.addColorStop(1, selectedOrganelle === 'vacuole' ? 'rgba(46, 134, 193, 0.7)' : 'rgba(46, 134, 193, 0.5)');
            pctx.fillStyle = vacGrad;
            pctx.fill();
            pctx.strokeStyle = '#2980b9';
            pctx.lineWidth = 2;
            pctx.stroke();

            // Chloroplasts
            const chloroColor = selectedOrganelle === 'chloroplast' ? '#2ecc71' : '#27ae60';
            [[100, 120], [380, 100], [80, 350], [400, 380], [150, 420], [350, 420]].forEach(([x, y]) => {
                pctx.fillStyle = chloroColor;
                pctx.beginPath();
                pctx.ellipse(x, y, 30, 15, Math.random() * 0.5, 0, Math.PI * 2);
                pctx.fill();
                // Thylakoid stacks
                pctx.strokeStyle = 'rgba(0, 100, 0, 0.5)';
                pctx.lineWidth = 2;
                for (let i = -20; i < 20; i += 8) {
                    pctx.beginPath();
                    pctx.moveTo(x + i, y - 5);
                    pctx.lineTo(x + i, y + 5);
                    pctx.stroke();
                }
            });

            // Nucleus (pushed to side by vacuole)
            pctx.beginPath();
            pctx.arc(100, 200, 40, 0, Math.PI * 2);
            const nucGrad = pctx.createRadialGradient(90, 190, 5, 100, 200, 40);
            nucGrad.addColorStop(0, selectedOrganelle === 'nucleus' ? '#a569bd' : '#9b59b6');
            nucGrad.addColorStop(1, '#6c3483');
            pctx.fillStyle = nucGrad;
            pctx.fill();

            // Mitochondria
            [[380, 200], [420, 300]].forEach(([x, y]) => {
                pctx.fillStyle = selectedOrganelle === 'mitochondria' ? '#ec7063' : '#e74c3c';
                pctx.beginPath();
                pctx.ellipse(x, y, 20, 10, 0.5, 0, Math.PI * 2);
                pctx.fill();
            });

            // ER
            pctx.strokeStyle = selectedOrganelle === 'er' ? '#5dade2' : '#3498db';
            pctx.lineWidth = 2;
            pctx.beginPath();
            for (let x = 130; x < 200; x += 5) {
                const y = 190 + Math.sin(x * 0.15) * 10;
                if (x === 130) pctx.moveTo(x, y);
                else pctx.lineTo(x, y);
            }
            pctx.stroke();
        }

        function showCell(type) {
            currentCellType = type;
            document.querySelectorAll('.toggle-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelector(`.toggle-btn.${type}`).classList.add('active');

            animalCanvas.style.display = type === 'animal' ? 'block' : 'none';
            plantCanvas.style.display = type === 'plant' ? 'block' : 'none';

            // Update legend for plant-specific organelles
            const legend = document.getElementById('animalLegend');
            if (type === 'plant') {
                legend.innerHTML = `
                    <h4>Organellen</h4>
                    <div class="legend-item" onclick="selectOrganelle('nucleus')">
                        <div class="legend-dot" style="background: #9b59b6;"></div>
                        <span class="legend-name">Zellkern (Nucleus)</span>
                    </div>
                    <div class="legend-item" onclick="selectOrganelle('chloroplast')">
                        <div class="legend-dot" style="background: #27ae60;"></div>
                        <span class="legend-name">Chloroplasten</span>
                    </div>
                    <div class="legend-item" onclick="selectOrganelle('vacuole')">
                        <div class="legend-dot" style="background: #3498db;"></div>
                        <span class="legend-name">Vakuole</span>
                    </div>
                    <div class="legend-item" onclick="selectOrganelle('cellwall')">
                        <div class="legend-dot" style="background: #2ecc71;"></div>
                        <span class="legend-name">Zellwand</span>
                    </div>
                    <div class="legend-item" onclick="selectOrganelle('mitochondria')">
                        <div class="legend-dot" style="background: #e74c3c;"></div>
                        <span class="legend-name">Mitochondrien</span>
                    </div>
                    <div class="legend-item" onclick="selectOrganelle('membrane')">
                        <div class="legend-dot" style="background: #1abc9c;"></div>
                        <span class="legend-name">Zellmembran</span>
                    </div>
                `;
            } else {
                legend.innerHTML = `
                    <h4>Organellen</h4>
                    <div class="legend-item" onclick="selectOrganelle('nucleus')">
                        <div class="legend-dot" style="background: #9b59b6;"></div>
                        <span class="legend-name">Zellkern (Nucleus)</span>
                    </div>
                    <div class="legend-item" onclick="selectOrganelle('mitochondria')">
                        <div class="legend-dot" style="background: #e74c3c;"></div>
                        <span class="legend-name">Mitochondrien</span>
                    </div>
                    <div class="legend-item" onclick="selectOrganelle('er')">
                        <div class="legend-dot" style="background: #3498db;"></div>
                        <span class="legend-name">Endoplasmatisches Retikulum</span>
                    </div>
                    <div class="legend-item" onclick="selectOrganelle('golgi')">
                        <div class="legend-dot" style="background: #f1c40f;"></div>
                        <span class="legend-name">Golgi-Apparat</span>
                    </div>
                    <div class="legend-item" onclick="selectOrganelle('centriole')">
                        <div class="legend-dot" style="background: #7f8c8d;"></div>
                        <span class="legend-name">Zentriolen</span>
                    </div>
                    <div class="legend-item" onclick="selectOrganelle('membrane')">
                        <div class="legend-dot" style="background: #1abc9c;"></div>
                        <span class="legend-name">Zellmembran</span>
                    </div>
                `;
            }

            selectedOrganelle = null;
            draw();
        }

        function selectOrganelle(name) {
            selectedOrganelle = name;
            const data = organelleData[name];

            document.getElementById('organelleTitle').textContent = data.title;
            document.getElementById('organelleDesc').textContent = data.desc;
            document.getElementById('functionBox').style.display = 'block';
            document.getElementById('functionText').textContent = data.function;

            document.querySelectorAll('.legend-item').forEach(item => item.classList.remove('active'));
            event.target.closest('.legend-item').classList.add('active');

            draw();
        }

        function draw() {
            if (currentCellType === 'animal') {
                drawAnimalCell();
            } else {
                drawPlantCell();
            }
        }

        draw();
    </script>
</body>
</html>
